<div class="dashboard-container">
    <div class="content-box">
        <div class="page-header">
            <h1><i class="fas fa-mug-saucer"></i> inicio</h1>
        </div>
        
        
        <!-- Tarjetas de estadísticas -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--color-primario);">
                    <i class="fas fa-chair"></i>
                </div>
                <div class="stat-value" id="home-mesas-disponibles">—</div>
                <div class="stat-label">Mesas Disponibles</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="color: #dc3545;">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value" id="home-mesas-ocupadas">—</div>
                <div class="stat-label">Mesas Ocupadas</div>
            </div>
            
            
            
            <div class="stat-card">
                <div class="stat-icon" style="color: #28a745;">
                    <i class="fas fa-user"></i>
                </div>
                <div class="stat-value" id="current-user">—</div>
                <div class="stat-label">Usuario Conectado</div>
            </div>
            <div class="stat-card" id="online-users-card" style="cursor:pointer">
                <div class="stat-icon" style="color: #0ea5e9;">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value" id="online-users-count">0</div>
                <div class="stat-label">Usuarios en línea</div>
            </div>
        </div>

            <!-- Modal Usuarios en Línea -->
            <div id="modal-online-users" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Usuarios en línea</h2>
                        <span class="close-modal" id="close-online-users">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="table-container">
                            <table class="data-table" id="online-users-table">
                                <thead>
                                    <tr>
                                        <th>Usuario</th>
                                        <th>Rol</th>
                                    </tr>
                                </thead>
                                <tbody id="online-users-tbody">
                                    <!-- Filas dinámicas -->
                                </tbody>
                            </table>
                        </div>
                                                <style>
                                                    /* Resaltado de mi fila */
                                                    #online-users-table tr.me {
                                                        background: #e6f4ff;
                                                    }
                                                    #online-users-table .me-label {
                                                        color: #0b74da;
                                                        font-weight: 600;
                                                        margin-left: .25rem;
                                                    }
                                                </style>
                    </div>
                </div>
            </div>
        
        <!-- Sección de Mesas -->
        <h2>Estado de Mesas</h2>
        <div class="mesas-grid" id="home-grid-mesas">
            <!-- Se rellena dinámicamente desde /api/mesas -->
        </div>

        <!-- Modal para ocupar mesa desde Home -->
        <div id="modal-ocupar-home" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Ocupar Mesa</h2>
                    <span class="close-modal" id="close-ocupar-home">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="form-ocupar-home">
                        <input type="hidden" id="mesa-ocupar-id-home" />
                        <div class="form-group">
                            <label for="cliente-nombre-home">Nombre del Cliente</label>
                            <input type="text" id="cliente-nombre-home" class="form-input" placeholder="Ej. Juan Pérez" required />
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cliente-personas-home">Número de Personas</label>
                                <input type="number" id="cliente-personas-home" class="form-input" min="1" required />
                            </div>
                            <div class="form-group">
                                <label for="cliente-telefono-home">Teléfono (opcional)</label>
                                <input type="tel" id="cliente-telefono-home" class="form-input" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cliente-notas-home">Notas adicionales</label>
                            <textarea id="cliente-notas-home" class="form-textarea" rows="3" placeholder="Observaciones especiales..."></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" id="btn-cancelar-ocupar-home">Cancelar</button>
                            <button type="submit" class="btn btn-success">Iniciar Servicio</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Productos con stock bajo -->
        <h2>Productos con Stock Bajo</h2>
        <div class="alert alert-warning" id="low-stock-alert">
            <i class="fas fa-exclamation-triangle"></i>
            <span id="low-stock-count">0 productos</span> con problemas de stock
        </div>
        
        <div class="table-container">
            <table class="data-table" id="tabla-low-stock">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Stock Actual</th>
                        <th>Stock Mínimo</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="low-stock-tbody">
                    <!-- Contenido dinámico cargado desde /api/productos -->
                </tbody>
            </table>
        </div>
    </div>
</div>